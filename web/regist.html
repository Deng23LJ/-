<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>用户注册</title>
		<link rel="stylesheet" href="css/layui.css" media="all">

	</head>

	<body>
		<!--引入导航栏-->

		<div class="header"></div>

		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 15px;margin-bottom: 15px">
			<legend>用户注册</legend>
		</fieldset>

		<div  style="padding-left: 150px; padding-right: 150px;">

		<form class="layui-form" action="">
			<div class="layui-form-item">
				<label class="layui-form-label">用户名</label>
				<div class="layui-input-block">
					<input type="text" name="username" id="username" required lay-verify="required" placeholder="请输入用户名" autocomplete="off"
					 class="layui-input">
				</div>

			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">密码</label>
				<div class="layui-input-inline">
					<input type="password" name="password" id="password" required lay-verify="required" placeholder="请输入密码"
					 autocomplete="off" class="layui-input">
				</div>
				<div class="layui-form-mid layui-word-aux password-check">密码由数字、字母、符号构成</div>
			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">性别</label>
				<div class="layui-input-block">
					<input type="radio" name="sex" id="sex" value="男" title="男">
					<input type="radio" name="sex" id="sex" value="女" title="女" checked>
				</div>
			</div>

			<div class="layui-inline">
				<label class="layui-form-label">年龄</label>
				<div class="layui-input-block">
					<input type="text" class="layui-input age" id="test1" placeholder="yyyy-MM-dd">
				</div>
			</div>
			<br />
			<br />

			<div class="layui-form-item">
				<label class="layui-form-label">电话</label>
				<div class="layui-input-block">
					<input type="text" name="phone" id="phone" required lay-verify="required" placeholder="请输入联系电话" autocomplete="off"
					 class="layui-input">
				</div>
			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">地址</label>
				<div class="layui-input-block">
					<select name="address" id="address" lay-verify="required">
						<option value=""></option>
						<option value="北京">北京</option>
						<option value="上海">上海</option>
						<option value="广州">广州</option>
						<option value="深圳">深圳</option>
						<option value="杭州">杭州</option>
						<option value="武汉">武汉</option>
					</select>
				</div>
			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">email</label>
				<div class="layui-input-block">
					<input type="text" name="email" id="email" required lay-verify="required" placeholder="请输入email" autocomplete="off"
					 class="layui-input">
				</div>
			</div>

			<div class="layui-form-item">
				<div class="layui-input-block">
					<button class="layui-btn" id="UserRegist" lay-submit lay-filter="formDemo">注册</button>
					<button type="reset" class="layui-btn layui-btn-primary">重置</button>
				</div>
			</div>

		</form>
		</div>

		<div class="footer"></div>

		<script src="layui.all.js"></script>
		<script src="js/jquery-2.1.0.min.js"></script>

		<script type="text/javascript">
			layui.use('laydate', function() {
				var laydate = layui.laydate;

				laydate.render({
					elem: '#test1',
					theme: 'blue'
				});
			});

			//注册
			$("#UserRegist").click(function () {
				//获取到用户输入的数据
				var username = $("#username").val();
				var password = $("#password").val();
				var sex = $("#sex").val();
				var age = $("#age").val();
				var phone = $("#phone").val()
				var address = $("#address").val();
				var email = $("#email").val();
				//通过post提交方式进行提交
				$.post(
						"regist.do",
						{
							"username": username,
							"password": password,
							"sex": sex,
							"age": age,
							"phone": phone,
							"address": address,
							"email": email
						},
						function (data) {
							if (data.success) {
								alert(data.message)
								window.location.href = "login.html";
							} else {
								alert(data.message)
								window.location.href = "regist.html"
							}
						}, "json");

			})

			//页头页尾引入
			$(".header").load("header.html");
			$(".footer").load("footer.html");

		</script>

	</body>

</html>
